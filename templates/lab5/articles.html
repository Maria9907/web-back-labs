{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <h1>Мои статьи</h1>

    {% if not articles %}
        <p>У вас пока нет статей. <a href="/lab5/create">Создайте первую статью!</a></p>
    {% else %}
        {% for article in articles %}
             <div style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; {% if article['is_favorite'] %}background-color: #fffacd;{% endif %}">
                {% if article['is_favorite'] %}
                    <span style="color: rgb(234, 217, 118); font-weight: bold;">★ </span>
                {% endif %}
                <h2>{{ article['title'] }}</h2>
                <blockquote>{{ article['article_text'] }}</blockquote>
                <div>
                    {% if article['is_public'] %}
                        <span style="color: rgb(113, 212, 113); margin-right: 10px;">✓ Публичная</span>
                    {% else %}
                        <span style="color: rgb(107, 99, 99); margin-right: 10px;">✗ Приватная</span>
                    {% endif %}
                    <a href="/lab5/edit/{{ article['id'] }}" style="color: rgb(163, 163, 241); margin-right: 10px;">Редактировать</a>
                    <a href="/lab5/delete/{{ article['id'] }}" style="color: rgb(239, 107, 107);" 
                       onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% endif %}
    
    <div style="margin-top: 20px;">
        
        <a href="/lab5/create">Создать новую статью</a> | 
        <a href="/lab5/public">Публичные статьи</a> | 
        <a href="/lab5/">На главную</a>
    </div>

    
{% endblock %}