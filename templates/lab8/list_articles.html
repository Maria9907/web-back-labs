{% extends "base.html" %}

{% block lab %}Лабораторная работа 8 - Мои статьи{% endblock %}

{% block main %}
    <h1>Мои статьи</h1>
    
    <div style="margin-bottom: 20px;">
        <a href="/lab8/create" style="padding: 8px 15px; background-color: #28a745; color: white; text-decoration: none; border-radius: 3px; margin-right: 10px;">
            Создать новую статью
        </a>
        <a href="/lab8/" style="margin-left: 10px;">На главную</a>
    </div>
    
    {% if not articles %}
        <p>У вас пока нет статей. <a href="/lab8/create">Создайте первую статью!</a></p>
    {% else %}
        {% for article in articles %}
            <div style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; {% if article.is_favorite %}background-color: #fffacd;{% endif %}">
                {% if article.is_favorite %}
                    <span style="color: gold; font-weight: bold;">★ </span>
                {% endif %}
                <h3 style="margin-top: 0;">{{ article.title }}</h3>
                <div style="margin-bottom: 10px; color: #666; font-size: 0.9em;">
                    ID: {{ article.id }} | 
                    {% if article.is_public %}
                        <span style="color: green;">✓ Публичная</span>
                    {% else %}
                        <span style="color: gray;">✗ Приватная</span>
                    {% endif %}
                </div>
                <div style="margin-bottom: 15px; white-space: pre-line;">{{ article.article_text }}</div>
                <div>
                    <a href="/lab8/edit/{{ article.id }}" style="color: #007bff; margin-right: 10px;">Редактировать</a>
                    <a href="/lab8/delete/{{ article.id }}" style="color: #dc3545;" 
                       onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}